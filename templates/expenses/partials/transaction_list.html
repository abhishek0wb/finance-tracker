{% if transactions %}
    {% for transaction in transactions %}
    <div class="transaction-card" id="transaction-{{ transaction.id }}">
        <div class="top-row">
            <div class="description">
                <i class="bi {% if transaction.transaction_type == 'Income' %}bi-arrow-down-circle text-success{% else %}bi-arrow-up-circle text-danger{% endif %} me-2"></i>
                {{ transaction.category }}
            </div>
            <div class="date">
                <i class="bi bi-calendar3 me-1"></i>
                {{ transaction.date|date:"M d, Y" }}
            </div>
        </div>
        
        {% if transaction.description %}
        <div class="mt-2">
            <small class="text-muted">{{ transaction.description }}</small>
        </div>
        {% endif %}
        
        <div class="divider"></div>
        
        <div class="bottom-row">
            <div class="d-flex align-items-center gap-2">
                <span class="amount {% if transaction.transaction_type == 'Income' %}income{% else %}expense{% endif %}">
                    {% if transaction.transaction_type == 'Income' %}+{% else %}-{% endif %}â‚¹{{ transaction.amount|floatformat:2 }}
                </span>
                <span class="badge {% if transaction.transaction_type == 'Income' %}badge-income{% else %}badge-expense{% endif %}">
                    <i class="bi {% if transaction.transaction_type == 'Income' %}bi-arrow-down{% else %}bi-arrow-up{% endif %}"></i>
                    {{ transaction.transaction_type }}
                </span>
            </div>
            <button 
                hx-delete="{% url 'expenses:delete_transaction' transaction.id %}"
                hx-target="#transaction-{{ transaction.id }}"
                hx-swap="outerHTML swap:0.5s"
                hx-confirm="Are you sure you want to delete this transaction?"
                class="btn btn-danger btn-sm">
                <i class="bi bi-trash"></i> Delete
            </button>
        </div>
    </div>
    {% endfor %}
{% else %}
    <div class="empty-state">
        <div class="empty-state-icon">
            <i class="bi bi-inbox"></i>
        </div>
        <div class="empty-state-title">No Transactions Found</div>
        <div class="empty-state-description">
            {% if request.GET.q %}
                No transactions match your search. Try a different keyword.
            {% else %}
                Start tracking your finances by adding your first transaction above.
            {% endif %}
        </div>
        {% if not request.GET.q %}
        <button onclick="document.querySelector('input[name=category]').focus()" class="btn btn-primary">
            <i class="bi bi-plus-circle"></i> Add Your First Transaction
        </button>
        {% endif %}
    </div>
{% endif %}

{% if transactions %}
    {% for transaction in transactions %}
    <div class="transaction-card-professional" id="transaction-{{ transaction.id }}">
        <div class="flex flex-col sm:flex-row sm:items-center gap-4">
            <!-- Icon -->
            <div class="w-12 h-12 rounded-lg {% if transaction.transaction_type == 'Income' %}bg-success-50 dark:bg-success-900/20{% else %}bg-red-50 dark:bg-red-900/20{% endif %} flex items-center justify-center flex-shrink-0">
                <i class="bi {% if transaction.transaction_type == 'Income' %}bi-arrow-down-circle text-success-600 dark:text-success-400{% else %}bi-arrow-up-circle text-danger-600 dark:text-danger-400{% endif %} text-2xl"></i>
            </div>
            
            <!-- Content -->
            <div class="flex-1 min-w-0">
                <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2">
                    <div>
                        <h3 class="font-bold text-lg text-primary-900 dark:text-slate-100 truncate">{{ transaction.category.name|default:"Uncategorized" }}</h3>
                        <p class="text-sm text-base-content/60 dark:text-slate-400">
                            {% if transaction.description %}
                                {{ transaction.description }}
                            {% else %}
                                <span class="italic">No description</span>
                            {% endif %}
                        </p>
                        <div class="flex items-center gap-2 mt-1">
                            <i class="bi bi-calendar3 text-base-content/50 dark:text-slate-500 text-xs"></i>
                            <span class="text-xs text-base-content/50 dark:text-slate-500">{{ transaction.date|date:"M d, Y" }}</span>
                        </div>
                    </div>
                    
                    <div class="flex items-center gap-3 sm:flex-col sm:items-end">
                        <div class="text-right">
                            <div class="font-bold text-2xl tabular-nums {% if transaction.transaction_type == 'Income' %}text-success-600 dark:text-success-400{% else %}text-danger-600 dark:text-danger-400{% endif %}">
                                {% if transaction.transaction_type == 'Income' %}+{% else %}-{% endif %}â‚¹{{ transaction.amount|floatformat:2 }}
                            </div>
                            <div class="{% if transaction.transaction_type == 'Income' %}badge-income-professional{% else %}badge-expense-professional{% endif %} mt-1">
                                {{ transaction.transaction_type }}
                            </div>
                        </div>
                        
                        <button 
                            hx-delete="{% url 'expenses:delete_transaction' transaction.id %}"
                            hx-target="#transaction-{{ transaction.id }}"
                            hx-swap="outerHTML swap:0.3s"
                            hx-confirm="Are you sure you want to delete this transaction?"
                            class="btn btn-sm btn-outline btn-error rounded-lg hover:bg-error hover:text-white hover:border-error transition-all duration-200">
                            <i class="bi bi-trash"></i>
                            <span class="hidden sm:inline">Delete</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% endfor %}
{% else %}
    <div class="text-center py-16">
        <div class="w-20 h-20 mx-auto mb-6 rounded-lg bg-primary-50 dark:bg-slate-800 flex items-center justify-center">
            <i class="bi bi-inbox text-4xl text-primary-900 dark:text-slate-100"></i>
        </div>
        <h3 class="text-2xl font-bold text-primary-900 dark:text-slate-100 mb-3">No Transactions Found</h3>
        <p class="text-base-content/60 dark:text-slate-400 mb-6 max-w-md mx-auto">
            {% if request.GET.q %}
                No transactions match your search. Try a different keyword.
            {% else %}
                Start tracking your finances by adding your first transaction above.
            {% endif %}
        </p>
        {% if not request.GET.q %}
        <button onclick="document.querySelector('input[name=category]').focus()" class="btn-professional btn-primary-professional">
            <i class="bi bi-plus-circle"></i>
            Add Your First Transaction
        </button>
        {% endif %}
    </div>
{% endif %}
